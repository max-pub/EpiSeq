<link rel="stylesheet" href="../style/base.css">
<link rel="stylesheet" href="../style/form.css">
<link rel="stylesheet" href="../style/style.css">
<link rel="stylesheet" href="../style/12.css">


<h1><a href='../'>&larr;</a> Preparation</h1>

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css"> -->
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2.1.1/css/pico.classless.min.css"> -->
<!-- <link rel="stylesheet" href="../style.css"> -->

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous"> -->


<style>
    td:nth-child(1) {
        width: 150px;
    }

    td:nth-child(2) {
        width: 300px;
    }

    td:nth-child(3) {
        width: 400px;
    }

    h2 {
        font-size: 1.2rem;
    }

    input:not([type="file"]):not([type="checkbox"]) {
        width: 140px;
    }

    #output {
        width: 100%;
    }

    #output .title {
        text-align: center;
        display: none;
    }

    #output .data th {
        text-align: right;
        font-size: 0.8rem;
    }

    #output .data * td {
        text-align: right;
        font-size: 0.8rem;
        border: 1px solid silver;
        width: 1px !important;
        white-space: nowrap;
    }

    #output .data {
        vertical-align: top;
        color: silver;
        border: none !important;
    }
    #output .data>td>*{
        margin: 1rem auto;
    }

    #output .col_duration {
        color: gray;
        white-space: nowrap;
        border: none !important;
    }

    #output .col_duration:after {
        content: ' ms';
    }
/* 
    #statsByYear {}

    .statsByYear td {
        width: 1px;
        text-align: right;
        border: 1px solid silver;
    }

    #durationTable {
        width: 1px;
    }

    #durationTable th {
        text-align: left;
        white-space: nowrap;
    }

    #durationTable td {
        text-align: right;
        border: 1px solid silver;
        white-space: nowrap;
    } */
</style>

<form>

    <!-- <h2>Data Source</h2> -->
    <fieldset>
        <legend>Select Data Source</legend>

        <!-- <input type="file" id="typingFile" accept=".tsv" multiple /> -->
        <table>
            <tr>
                <td>germ name</td>
                <td> <input type="text" name="germName" accept=".tsv" placeholder="unkown germ" /> </td>
                <td class="help"> will be used in export and diagram creation </td>
            </tr>
            <tr>
                <td>typing data</td>
                <td> <input type="file" name="typingFile" accept=".tsv" /> </td>
                <td class="help"> select a typing source file </td>
            </tr>
            <tr>
                <td>location data</td>
                <td> <input type="file" name="locationFile" accept=".tsv" /> </td>
                <td class="help"> select a typing source file </td>
            </tr>
        </table>

    </fieldset>

    <div id="form"></div>

    <div class="flex-row">
        <button type="submit">prepare the data according to the settings</button>
        <!-- <div id="progress" class="flex-row hidden">
            <progress></progress>
            <span class="percent"></span>
            <span class="text"></span>
        </div> -->
    </div>
</form>


<table id="output"></table>

<div id="progress" class="flex-row hidden">
    <progress></progress>
    <span class="percent"></span>
    <span class="text"></span>
</div>

<!-- 
<hr />
<hr />
<hr />

<div id="statsByYear" class="statsByYear flex-around">
    <div class="before"></div>
    <div class="after"></div>
</div> -->

<!-- <div id="statsByYear1" class="statsByYear"></div> -->

<!-- <br />
<br />
<br />
<br /> -->

<!-- <div id='stats' class="flex-around hidden">
    <div>
        <h1>Typing Filter</h1>
        <table id="typing" class="stats">
            <thead>
                <tr>
                    <th></th>
                    <th>Sequences</th>
                    <th>Patients</th>
                    <th>Alleles</th>
                    <th class="duration">Duration</th>
                </tr>
            </thead>
            <tbody></tbody>
            <caption>typing filter </caption>
        </table>
    </div>

    <div>
        <h1>Location Filter</h1>
        <table id="location" class="stats">
            <thead></thead>
            <tr>
                <th></th>
                <th>Locations</th>
                <th>Patients</th>
                <th class="duration">Duration</th>
            </tr>
            </thead>
            <tbody></tbody>
            <caption>location filter </caption>
        </table>
    </div>
</div> -->

<!-- <div id="statsByYear2" class="statsByYear"></div> -->

<!-- <div id="durationTable"></div> -->

<output></output>




<div id="download" class="hidden">
    <a id="downloadResult" class="button ">download shareable data</a>
    <a id="cacheAndProceed" class="button ">save to cache and proceed with correlation</a>
    <a id="downloadStats" class="button ">download statistics</a>
</div>

<script type="module" src="index.js"></script>